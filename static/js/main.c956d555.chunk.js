(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,n){},107:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(18),o=n.n(i),c=n(17),u=n(4),l=n(5),s=n(7),f=n(6),p=n(8),d=n(1),h=n(3),g=n(2),b=n(11),m=n.n(b);function v(){var t=Object(d.a)(["\n  flex-grow: 1;\n  ","\n"]);return v=function(){return t},t}function y(){var t=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  flex-wrap: no-wrap;\n"]);return y=function(){return t},t}function E(){var t=Object(d.a)(["\n  ","\n"]);return E=function(){return t},t}function w(){var t=Object(d.a)(["\n  ","\n"]);return w=function(){return t},t}function k(){var t=Object(d.a)([""]);return k=function(){return t},t}function x(){var t=Object(d.a)(["\n  transition-duration: 1s;\n  transition-delay: 0s;\n  transition-timing-function: ease-in-out;\n"]);return x=function(){return t},t}var C=Object(g.a)("div")(x()),O=Object(g.a)("div")(k()),j=Object(g.a)(O)(w(),function(t){return t.highlight&&"\n    background-color: var(--jukebox-highlight);\n  "}),A=(Object(g.a)(O)(E(),function(t){return t.highlight&&"\n    color: var(--jukebox-highlight);\n  "}),g.a.div(y())),B=g.a.div(v(),"\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n");function I(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  flex-wrap: no-wrap;\n"]);return I=function(){return t},t}function P(){var t=Object(d.a)(["\n  width: auto;\n  height: 50px;\n"]);return P=function(){return t},t}function L(){var t=Object(d.a)(["\n  cursor: pointer;\n\n  ","\n"]);return L=function(){return t},t}function T(){var t=Object(d.a)(["\n  width: 100%;\n  border-collapse: collapse;\n\n  & th, & td {\n    border-top: 1px solid black;\n    box-sizing: border-box;\n    padding: 0px 5px;\n    height: 60px;\n  }\n\n  & th {\n    border-top-width: 0px;\n  }\n"]);return T=function(){return t},t}function W(){var t=Object(d.a)(["\n"]);return W=function(){return t},t}function Y(){var t=Object(d.a)(["\n"]);return Y=function(){return t},t}var D=Object(g.a)(A)(Y()),S=Object(g.a)(B)(W()),N=g.a.table(T()),M=Object(g.a)("tr")(L(),function(t){return t.isCurrent&&"\n    background-color: var(--jukebox-highlight);\n  "}),_=g.a.img(P()),Q=g.a.div(I());function G(t,e){return t.custom&&e.splice(5,1),e}var V=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"truncate",value:function(t){return(t||"").substring(0,20)}},{key:"render",value:function(){var t=this,e=this.props,n=e.loadTrack,r=e.playlist,i=e.currentTrack;if(!r)return"loading";console.log(r);var o=G(r,["","title","artist","length","album","track #"]);return a.a.createElement(D,null,a.a.createElement("h1",null,r.name,!r.custom&&a.a.createElement("em",null," (sortable) ")),a.a.createElement(S,null,a.a.createElement(N,null,a.a.createElement("thead",null,a.a.createElement("tr",null,o.map(function(t,e){return a.a.createElement("th",{key:"header-".concat(e)},a.a.createElement(Q,null,t))}))),a.a.createElement("tbody",null,r.tracks.map(function(e,o){var c=G(r,[a.a.createElement(_,{src:e.imageSrc||m.a}),e.title,t.truncate(e.artist),e.durationDisplay,e.album,e.trackNumberDisplay]);return a.a.createElement(M,{key:"track-".concat(o),onClick:function(){return n(e)},isCurrent:e===i},c.map(function(t,e){return a.a.createElement("td",{key:"body-".concat(o,"-").concat(e)},a.a.createElement(Q,null,t))}))})))))}}]),e}(a.a.Component);function K(){var t=Object(d.a)(["\n  font-weight: bold;\n  text-decoration: underline;\n"]);return K=function(){return t},t}function R(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  margin: 0px 20px;\n"]);return R=function(){return t},t}function J(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  flex-grow: 1;\n"]);return J=function(){return t},t}function X(){var t=Object(d.a)(["\n  width: auto;\n  height: 100%;\n"]);return X=function(){return t},t}function z(){var t=Object(d.a)(["\n  height: 100%;\n"]);return z=function(){return t},t}function F(){var t=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: no-wrap;\n"]);return F=function(){return t},t}var H=g.a.div(F()),U=g.a.div(z()),Z=g.a.img(X()),q=g.a.div(J()),$=g.a.div(R()),tt=Object(g.a)($)(K()),et=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.track;return t?a.a.createElement(H,null,a.a.createElement(U,null,a.a.createElement(Z,{src:t.imageSrc||m.a})),a.a.createElement(q,null,a.a.createElement(tt,null,t.title),a.a.createElement($,null,t.artist),a.a.createElement($,null,t.album),a.a.createElement($,null,t.trackNumberDisplay))):a.a.createElement(H,null,a.a.createElement(U,null,a.a.createElement(Z,{src:m.a})),a.a.createElement(q,null,"Click on a track to start playing"))}}]),e}(a.a.Component);function nt(){var t=Object(d.a)(["\n  cursor: pointer;\n  box-sizing: border-box;\n  padding: 5px;\n\n  ","\n"]);return nt=function(){return t},t}function rt(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  flex-wrap: no-wrap;\n\n  width: 100%;\n"]);return rt=function(){return t},t}var at=g.a.div(rt()),it=Object(g.a)("div")(nt(),function(t){return t.isCurrent&&"\n    background-color: var(--jukebox-highlight);\n  "}),ot=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.manager,n=t.loadPlaylist,r=t.loadBrowser,i=t.currentTrackList,o=t.currentBrowser;return a.a.createElement(at,null,!h.WebConfig.HideAggregateLists&&a.a.createElement("div",null,a.a.createElement(it,{onClick:function(){return n(e.allSongs)},isCurrent:e.allSongs===i},e.allSongs.name),a.a.createElement(it,{onClick:function(){return r(e.browseAlbums)},isCurrent:e.browseAlbums===o},e.browseAlbums.name),a.a.createElement(it,{onClick:function(){return r(e.browseArtists)},isCurrent:e.browseArtists===o},e.browseArtists.name),a.a.createElement("hr",null)),e.playlists.map(function(t,e){return a.a.createElement(it,{key:"playlist-name-".concat(e),onClick:function(){return n(t)},isCurrent:t===i},t.name)}))}}]),e}(a.a.Component);function ct(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n\n  text-align: center;\n  margin: 2px 0px;\n\n  &:first-child {\n    margin-bottom: 8px;\n  }\n"]);return ct=function(){return t},t}function ut(){var t=Object(d.a)(["\n  width: 90%;\n  height: auto;\n"]);return ut=function(){return t},t}function lt(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: no-wrap;\n\n  width: 20%;\n  padding: 5px;\n  box-sizing: border-box;\n\n  cursor: pointer;\n  &:hover {\n    border: 1px solid grey;\n    border-radius: 5px;\n    padding: 4px;\n  }\n"]);return lt=function(){return t},t}function st(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  flex-wrap: wrap;\n"]);return st=function(){return t},t}function ft(){var t=Object(d.a)(["\n"]);return ft=function(){return t},t}var pt=Object(g.a)(A)(ft()),dt=Object(g.a)(B)(st()),ht=g.a.div(lt()),gt=g.a.img(ut()),bt=g.a.div(ct()),mt=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"truncate",value:function(t){return(t||"").substring(0,20)}},{key:"render",value:function(){var t=this.props,e=t.loadPlaylist,n=t.browser;return a.a.createElement(pt,null,a.a.createElement("h1",null,n.name),a.a.createElement(dt,null,n.playlists.map(function(t,n){return a.a.createElement(ht,{key:"playlist-".concat(n),onClick:function(){return e(t)}},a.a.createElement(bt,null,a.a.createElement(gt,{src:t.imageSrc||m.a})),a.a.createElement(bt,null,a.a.createElement("b",null,t.album||"???")),a.a.createElement(bt,null,t.artist||"???"))})))}}]),e}(a.a.Component);function vt(){var t=Object(d.a)(["\n  top: 0px;\n  right: 0px;\n  ","\n"]);return vt=function(){return t},t}function yt(){var t=Object(d.a)(["\n  right: 0px;\n  bottom: 0px;\n  ","\n"]);return yt=function(){return t},t}function Et(){var t=Object(d.a)(["\n  top: 0px;\n  right: 0px;\n"]);return Et=function(){return t},t}function wt(){var t=Object(d.a)(["\n  cursor: pointer;\n  width: 50px;\n  height: 50px;\n  color: var(--jukebox-collapse-foreground);\n  background-color: var(--jukebox-collapse-background);\n\n  z-index: 1;\n  position: absolute;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: no-wrap;\n"]);return wt=function(){return t},t}var kt=Object(g.a)(C)(wt()),xt=function(t,e,n){return function(r){var i=r.onClick,o=r.isCollapsed;return a.a.createElement(n,{onClick:i,isCollapsed:o},o?e:t)}},Ct=xt("X","",Object(g.a)(kt)(Et())),Ot=xt("\u25b2","\u25bc",Object(g.a)(kt)(yt(),function(t){return t.isCollapsed&&"\n    bottom: -50px;\n  "})),jt=xt("\u25c4","\u25ba",Object(g.a)(kt)(vt(),function(t){return t.isCollapsed&&"\n    right: -50px;\n  "}));function At(){var t=Object(d.a)(["\n  ","\n\n  border: 1px solid black;\n  border-radius: 5px;\n  margin: 5px;\n  font-size: 1.5em;\n  height: 2em;\n  width: 2em;\n\n  & i {\n    font-size: 1.5em;\n  }\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: no-wrap;\n"]);return At=function(){return t},t}function Bt(){var t=Object(d.a)(["\n  flex-grow: 1;\n"]);return Bt=function(){return t},t}function It(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return It=function(){return t},t}function Pt(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: no-wrap;\n"]);return Pt=function(){return t},t}var Lt=g.a.div(Pt()),Tt=g.a.div(It()),Wt=Object(g.a)(Tt)(Bt()),Yt=Object(g.a)(j)(At(),"\n  cursor: pointer;\n  &:hover {\n    background-color: var(--jukebox-hover);\n    color: var(--jukebox-background);\n  }\n"),Dt=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.settings;return a.a.createElement(Lt,null,a.a.createElement(Tt,null,a.a.createElement(Yt,null,"?")),a.a.createElement(Wt,null,a.a.createElement(Yt,{onClick:this.props.prevTrack},a.a.createElement("i",{className:"material-icons"},"skip_previous")),a.a.createElement(Yt,{onClick:this.props.togglePlay},t.isPlaying?a.a.createElement("i",{className:"material-icons"},"pause_circle_outline"):a.a.createElement("i",{className:"material-icons"},"play_circle_outline")),a.a.createElement(Yt,{onClick:this.props.nextTrack},a.a.createElement("i",{className:"material-icons"},"skip_next"))),a.a.createElement(Tt,null,a.a.createElement(Yt,{onClick:this.props.toggleShuffle,highlight:t.shuffle},a.a.createElement("i",{className:"material-icons"},"shuffle")),a.a.createElement(Yt,{onClick:this.props.toggleRepeat,highlight:t.repeat},a.a.createElement("i",{className:"material-icons"},"repeat"))))}}]),e}(a.a.Component);function St(){var t=Object(d.a)(["\n  position: relative;\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  flex-wrap: no-wrap;\n\n  border: 1px solid black;\n  box-sizing: border-box;\n  padding: 10px;\n"]);return St=function(){return t},t}function Nt(){var t=Object(d.a)(["\n  flex-grow: 1;\n"]);return Nt=function(){return t},t}function Mt(){var t=Object(d.a)(["\n  padding-right: 0px;\n  width: 200px;\n  min-width: 200px;\n  max-width: 200px;\n  ","\n"]);return Mt=function(){return t},t}function _t(){var t=Object(d.a)(["\n  padding-top: 0px;\n"]);return _t=function(){return t},t}function Qt(){var t=Object(d.a)(["\n  padding-bottom: 0px;\n  height: 200px;\n  ","\n"]);return Qt=function(){return t},t}function Gt(){var t=Object(d.a)(["\n  padding: var(--jukebox-frame-gap);\n"]);return Gt=function(){return t},t}function Vt(){var t=Object(d.a)(["\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  flex-wrap: no-wrap;\n"]);return Vt=function(){return t},t}function Kt(){var t=Object(d.a)(["\n  width: 100%;\n"]);return Kt=function(){return t},t}function Rt(){var t=Object(d.a)(["\n  font-size: 16px;\n\n  --jukebox-foreground: black;\n  --jukebox-background: white;\n  --jukebox-hover: darkgrey;\n  --jukebox-highlight: lightblue;\n  --jukebox-collapse-foreground: white;\n  --jukebox-collapse-background: grey;\n  --jukebox-frame-gap: 10px;\n\n  background-color: var(--jukebox-background);\n  color: var(--jukebox-foreground);\n\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  flex-wrap: no-wrap;\n\n  ",";\n"]);return Rt=function(){return t},t}var Jt=Object(g.a)(C)(Rt(),function(t){return t.isCollapsed&&"\n    top: -100%;\n  "}),Xt=g.a.div(Kt()),zt=g.a.div(Vt()),Ft=Object(g.a)(C)(Gt()),Ht=Object(g.a)(Ft)(Qt(),function(t){return t.isCollapsed&&"\n    margin-top: calc(-200px - var(--jukebox-frame-gap));\n  "}),Ut=Object(g.a)(Ft)(_t()),Zt=Object(g.a)(Ft)(Mt(),function(t){return t.isCollapsed&&"\n    margin-left: calc(-200px - var(--jukebox-frame-gap));\n  "}),qt=Object(g.a)(Ft)(Nt()),$t=g.a.div(St()),te=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).audioElm=new Audio,n.state={settings:{isPlaying:!1,repeat:!1,shuffle:!1},collapseRoot:!h.WebConfig.OnlyJukebox,collapseHeader:!1,collapseSidebar:!1},n.loadTrack=function(t,e){var r=t.audioSrc;(e||r!==n.audioElm.src)&&(n.audioElm.src=r,n.setState({currentTrack:t,settings:Object(c.a)({},n.state.settings,{isPlaying:!0})}))},n.loadPlaylist=function(t){var e=n.state.currentTrackList;e&&e.name===t.name||n.setState({currentTrackList:t,currentBrowser:void 0})},n.loadBrowser=function(t){n.setState({currentTrackList:void 0,currentBrowser:t})},n.nextTrack=function(t){var e=n.state,r=e.settings,a=e.currentTrack,i=e.currentTrackList;if(a&&i){var o=i.nextTrack(r,a);n.loadTrack(o)}},n.prevTrack=function(t){var e=n.state,r=e.settings,a=e.currentTrack,i=e.currentTrackList;if(a&&i){var o=i.prevTrack(r,a);n.loadTrack(o)}},n.onTrackEnd=function(t){n.state.settings.repeat?n.audioElm.play():n.nextTrack()},n.onSpaceBar=function(t){n.togglePlay(),t&&t.preventDefault()},n.togglePlay=function(){var t=n.state,e=t.currentTrack,r=t.currentTrackList,a=t.settings;(e||r)&&(!e&&r&&n.loadTrack(r.tracks[0]),n.setState({settings:Object(c.a)({},a,{isPlaying:!a.isPlaying})}))},n.toggleShuffle=function(){var t=n.state.settings;n.setState({settings:Object(c.a)({},t,{shuffle:!t.shuffle})})},n.toggleRepeat=function(){var t=n.state.settings;n.setState({settings:Object(c.a)({},t,{repeat:!t.repeat})})},n.toggleCollapseRoot=function(){n.setState({collapseRoot:!n.state.collapseRoot})},n.toggleCollapseHeader=function(){n.setState({collapseHeader:!n.state.collapseHeader})},n.toggleCollapseSidebar=function(){n.setState({collapseSidebar:!n.state.collapseSidebar})},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=window;e.JD={app:this,config:h.WebConfig,constants:h.Constants},e.JUKEBOX={toggle:this.toggleCollapseRoot},document.addEventListener("keydown",function(e){switch(e.code){case"ArrowLeft":return t.prevTrack(e);case"ArrowRight":return t.nextTrack(e);case"Space":return t.onSpaceBar(e)}}),this.audioElm.addEventListener("ended",function(){return t.onTrackEnd()}),["https://fonts.googleapis.com/icon?family=Material+Icons"].forEach(function(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.head.appendChild(e)}),h.Manager.fetch().then(function(e){return t.setState({manager:e},function(){e.playlists.length&&t.loadPlaylist(e.playlists[0])})})}},{key:"render",value:function(){var t=this.state,e=t.manager,n=t.settings,r=t.currentTrack,i=t.currentTrackList,o=t.currentBrowser,c=t.collapseRoot,u=t.collapseHeader,l=t.collapseSidebar;if(!e)return a.a.createElement("h3",null," loading, please wait... ");var s=this.audioElm;n.isPlaying?s.play():s.pause();var f=this.loadTrack,p=this.loadPlaylist,d=this.loadBrowser;return a.a.createElement(Jt,{isCollapsed:c},a.a.createElement(Xt,null,a.a.createElement(Ht,{isCollapsed:u},a.a.createElement($t,null,a.a.createElement(et,{track:r}),h.WebConfig.OnlyJukebox?a.a.createElement(Ot,{onClick:this.toggleCollapseHeader,isCollapsed:u}):a.a.createElement(Ct,{onClick:this.toggleCollapseRoot,isCollapsed:!1})))),a.a.createElement(zt,null,e.playlists.length>1&&a.a.createElement(Zt,{isCollapsed:l},a.a.createElement($t,null,a.a.createElement(ot,{loadPlaylist:p,loadBrowser:d,manager:e,currentTrackList:i,currentBrowser:o}),h.WebConfig.OnlyJukebox&&a.a.createElement(jt,{onClick:this.toggleCollapseSidebar,isCollapsed:l}))),a.a.createElement(qt,null,a.a.createElement($t,null,o?a.a.createElement(mt,{loadPlaylist:p,browser:o}):a.a.createElement(V,{loadTrack:f,playlist:i,currentTrack:r})))),a.a.createElement(Xt,null,a.a.createElement(Ut,null,a.a.createElement($t,null,a.a.createElement(Dt,{settings:n,nextTrack:this.nextTrack,prevTrack:this.prevTrack,togglePlay:this.togglePlay,toggleShuffle:this.toggleShuffle,toggleRepeat:this.toggleRepeat})))))}}]),e}(a.a.Component),ee=n(16),ne=n.n(ee),re=n(26),ae=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).audioElm=new Audio,n.state={tracks:[]},n.test=function(){var t=Object(re.a)(ne.a.mark(function t(e){var r,a;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(h.range)(5).map(function(){return e.allSongs.randomTrack().id}),a=["???"].concat(r),Object(h.asyncMap)(a,function(){var t=Object(re.a)(ne.a.mark(function t(e){var r,a,i;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.SongLoader.fromId(e);case 2:r=t.sent,a=new h.Track(r),i=n.state.tracks.concat(a),n.setState({tracks:i});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;h.Logger.log(Object({NODE_ENV:"production",PUBLIC_URL:"."})),h.Manager.fetch().then(function(e){return t.setState({manager:e},function(){return t.test(e)})})}},{key:"render",value:function(){var t=this.state.tracks,e=new h.Playlist("test playlist",t,!0);return a.a.createElement("div",null,"loaded",a.a.createElement(V,{loadTrack:function(){},currentTrack:void 0,playlist:e}))}}]),e}(a.a.Component),ie=(n(105),te);h.Constants.isTest&&(ie=ae),o.a.render(a.a.createElement(ie,null),document.getElementById("root"))},11:function(t,e){t.exports="data:image/png;base64,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sAUWFhZqMBh89rOtzc0aj8e1uLAw5anmz3g8ru3t7To6Ojrx31yzHxolWC1w48aN+vjx44mfv9/amuI0nKTb7dbi4mLTY8w1p4QtsLK6Wleu2BVtt3Z7zQOnDfNX0gLdbrfu3LnT9Bicotvt1vq6fdQ0wWqJ79bX68bNm02PwQkePXpUvZ4rKE0TrJbodDr15MmTuilardLpdOrR48e1vLLS9ChUVWdje3fc9BD833g8rvdbW7WxsXHq3Sou3/UbN+r+/fvV7/ebHoU/CVZLHR8f1+7ubu3//nsNh8M6HttN09Drdmux36/l5WUvlreQYAExXMMCYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEOO/jJ5izESHF+4AAAAASUVORK5CYII="},13:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!==typeof window,a=r&&"?test"===window.location.search,i="staging"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_JUKEBOX_ENV||r&&window.location.pathname.includes("/staging/"),o=!i&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_JUKEBOX_ENV,c=a,u=o?"http://localhost:8080":"https://s3.amazonaws.com/mpaulweeks-jukebox",l=!(o||i)?"production":"staging",s=l+"/data",f=l+"/audio",p=l+"/image",d=l+"/web",h=u+"/"+s,g=u+"/"+f,b=u+"/"+p;e.Constants={isDev:o,isStaging:i,isTest:a,LogDebug:c,LocalDataRoot:"../../local",PlayerBuildPath:"../player/build",DataDirectory:s,AudioDirectory:f,ImageDirectory:p,WebDirectory:d,DataPath:h,AudioPath:g,ImagePath:b,CollectionFileName:"collection.min.json",InfoLookupFileName:"metaData.min.json"}},20:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),a=n(31),i=function(){function t(e,n,r){this.name=e,this.tracks=n,this.custom=r,r||this.tracks.sort(a.Track.compare),this.shuffled=t.shuffle(this.tracks),this.imageSrc=this.tracks.length?this.tracks[0].imageSrc:void 0,this.album=this.tracks.length?this.tracks[0].album||this.tracks[0].title:void 0,this.artist=this.tracks.length?this.tracks[0].artist:void 0}return t.prototype.randomTrack=function(){var t=this.tracks;return t[Math.floor(Math.random()*t.length)]},t.shuffle=function(t){for(var e=t.concat(),n=[];e.length>0;){var r=Math.floor(Math.random()*e.length),a=e.splice(r,1)[0];n.push(a)}return n},t.compare=function(t,e){return t.name<e.name?-1:(t.name,e.name,1)},t.prototype.jumpToTrack=function(t,e,n){var r=this.tracks,a=this.shuffled,i=t.shuffle?a:r,o=i.indexOf(e);return i[(i.length+o+n)%i.length]},t.prototype.nextTrack=function(t,e){return this.jumpToTrack(t,e,1)},t.prototype.prevTrack=function(t,e){return this.jumpToTrack(t,e,-1)},t.fromLookup=function(e,n,i){var o=n.trackIds.map(function(t){return a.Track.fromLookup(t,e)}).filter(r.notEmpty);return new t(n.name,o,!!i)},t}();e.Playlist=i},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),a=function(){return function(t,e,n){this.name=e,this.playlists=Object.keys(n).map(function(e){return r.Playlist.fromLookup(t,{name:e,trackIds:n[e]})})}}();e.PlaylistBrowser=a},3:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(29)),r(n(32)),r(n(13)),r(n(33)),r(n(34)),r(n(35)),r(n(51)),r(n(37)),r(n(20)),r(n(94)),r(n(30)),r(n(31)),r(n(36))},30:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(e){i(e)}}function c(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.range=function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e},e.asyncMap=function(t,e){return r(this,void 0,void 0,function(){var n,r,i;return a(this,function(a){switch(a.label){case 0:n=[],r=0,a.label=1;case 1:return r<t.length?[4,e(t[r],r,t)]:[3,4];case 2:i=a.sent(),n.push(i),a.label=3;case 3:return r++,[3,1];case 4:return[2,n]}})})},e.notEmpty=function(t){return null!==t&&void 0!==t}},31:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),a=function(){function t(t){var e=t.id,n=t.album,a=t.artist,i=t.title,o=t.year,c=t.duration,u=t.trackNumber,l=t.imageHash;this.id=e,this.album=n,this.artist=a,this.title=i,this.year=o,this.trackNumber=u,u&&(2===u.split("/").length?(this.trackNumerator=parseFloat(u.split("/")[0]),this.trackDenominator=parseFloat(u.split("/")[1])):u.includes("/")||(this.trackNumerator=parseFloat(u)),this.trackNumberDisplay=""+this.trackNumerator),this.durationDisplay=c?Math.floor(c/1e3/60)+":"+String(Math.floor(c/1e3%60)).padStart(2,"0"):"",this.sortKey=this.album+" "+String(this.trackNumerator||0).padStart(4,"0"),this.audioSrc=r.Constants.AudioPath+"/"+e,this.imageSrc=l&&r.Constants.ImagePath+"/"+l}return t.compare=function(t,e){return t.sortKey<e.sortKey?-1:(t.sortKey,e.sortKey,1)},t.fromLookup=function(e,n){var r=n.get(e);return r||console.log("failed track lookup! ID:",e),r&&new t(r)},t}();e.Track=a},32:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.data=t}return t.prototype.containsTrack=function(t){return!!this.data.tracks[t]},t.prototype.containsImage=function(t){return!!this.data.images[t]},t.default=function(){return new t({playlists:{},tracks:{},images:{}})},t}();e.Collection=r},33:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(e){i(e)}}function c(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this;Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),c=n(13),u=n(34),l=function(t,e){return r(i,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch((a=c.Constants.DataPath+"/"+e,a+"?v="+(new Date).getTime()))];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),[2,new t(n)];case 3:return r.sent(),[2,t.default()];case 4:return[2]}var a})})};e.fetchCollection=function(){return r(i,void 0,void 0,function(){return a(this,function(t){return[2,l(o.Collection,c.Constants.CollectionFileName)]})})},e.fetchInfoLookup=function(){return r(i,void 0,void 0,function(){return a(this,function(t){return[2,l(u.InfoLookup,c.Constants.InfoLookupFileName)]})})}},34:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.data=t}return t.prototype.containsTrack=function(t){return!!this.get(t)},t.prototype.get=function(t){return this.data[t]},t.default=function(){return new t({})},t}();e.InfoLookup=r},35:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),a=function(){function t(){}return t.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.Constants.LogDebug&&console.log.apply(console,t)},t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t}();e.Logger=a},36:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(n(52)),i="undefined"!==typeof window;function o(t,e){if(i){var n=window,r=a.default.parse(location.search);if(void 0!==r[t])return r[t];var o=n.JUKEBOX_CONFIG||{};if(void 0!==o[t])return o[t]}return e}var c=function(t,e){var n=o(t,e);if(void 0!==n)return Array.isArray(n)?n:[String(n)]}("playlist",void 0),u=!!o("playlist_only",!1),l=!!o("only_jukebox",!1);e.WebConfig={PlaylistWhitelist:c,HideAggregateLists:u,OnlyJukebox:l}},37:function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(e){i(e)}}function c(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(21)),c=i(n(62)),u=i(n(63)),l=i(n(73)),s=n(35),f=function(){function e(){}return e.dataUrl=function(t){var e=t.imageFormat,n=t.imageBuffer;return e&&n?"data:image/"+e+";base64,"+n.toString("base64"):null},e.tryParseNodeId3=function(t){return new Promise(function(e,n){var r=l.default.read(t);s.Logger.debug("node-id3:",r),r.image?e({album:r.album,artist:r.artist,title:r.title,year:r.year,duration:0,trackNumber:void 0===r.trackNumber?void 0:String(r.trackNumber),imageFormat:r.image.mime,imageBuffer:r.image.imageBuffer}):(s.Logger.debug("node-id3 error:",r),n())})},e.tryParseJsMediaTags=function(e){return new Promise(function(n,r){u.default.read(e,{onSuccess:function(e){var r,a=e.tags;if(s.Logger.debug("jsmediatags:",a),a.picture){var i=a.picture.data.map(function(t){return String.fromCharCode(t)}).join("");r=t.from(i,"binary")}n({album:a.album,artist:a.artist,title:a.title,year:a.year,duration:0,trackNumber:void 0===a.track?void 0:String(a.track),imageFormat:a.picture&&a.picture.format,imageBuffer:r})},onError:function(t){s.Logger.debug("jsmediatags error:",t),r(t)}})})},e.fromBuffer=function(t){return r(this,void 0,void 0,function(){var e,n,r=this;return a(this,function(a){switch(a.label){case 0:return[4,this.tryParseNodeId3(t).catch(function(){return r.tryParseJsMediaTags(t)}).catch(function(){return{album:"Unknown Album",artist:"Unknown Artist",title:"Unknown Title",year:"????",duration:0,trackNumber:void 0,imageSrc:void 0}})];case 1:e=a.sent();try{n=c.default(t),e.duration=n}catch(i){s.Logger.log("error during duration calc:",i)}return[2,e]}})})},e.fromUrl=function(e){return r(this,void 0,void 0,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return[4,fetch(e)];case 1:return[4,a.sent().arrayBuffer()];case 2:return n=a.sent(),r=t.from(n),[2,this.fromBuffer(r)]}})})},e.fromFile=function(t){return r(this,void 0,void 0,function(){var e=this;return a(this,function(n){return[2,new Promise(function(n,r){o.default.readFile(t,function(t,a){if(t)s.Logger.debug("error reading meta:",t),r(t);else{var i=e.fromBuffer(a);n(i)}})})]})})},e}();e.MetaLoader=f}).call(this,n(10).Buffer)},46:function(t,e,n){t.exports=n(107)},51:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(e){i(e)}}function c(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),c=n(33),u=n(20),l=n(36),s=function(){function t(t,e){this.collection=t,this.infoLookup=e;var n=l.WebConfig.PlaylistWhitelist,a={},i=Object.keys(t.data.playlists).filter(function(t){return!n||n.includes(t)}).map(function(n){var i=t.data.playlists[n];return a=r({},a,i.trackIds.reduce(function(t,e){return t[e]=!0,t},{})),u.Playlist.fromLookup(e,i,!0)});i.sort(u.Playlist.compare),this.playlists=i;var c=u.Playlist.fromLookup(e,{name:"All Songs",trackIds:Object.keys(n?a:t.data.tracks)}),s={},f={};c.tracks.forEach(function(t){s[t.album]=(s[t.album]||[]).concat(t.id),f[t.artist]=(f[t.artist]||[]).concat(t.id)}),this.allSongs=c,this.browseAlbums=new o.PlaylistBrowser(e,"Albums",s),this.browseArtists=new o.PlaylistBrowser(e,"Artists",f)}return t.fetch=function(){return a(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return[4,c.fetchCollection()];case 1:return e=r.sent(),[4,c.fetchInfoLookup()];case 2:return n=r.sent(),[2,new t(e,n)]}})})},t}();e.Manager=s},92:function(t,e){},93:function(t,e){},94:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(e){i(e)}}function c(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(95)),c=n(13),u=n(37),l=function(){function t(){}return t.compileTrackData=function(t,e){return{album:e.album,artist:e.artist,title:e.title,year:e.year,duration:e.duration,trackNumber:e.trackNumber,imageFormat:e.imageFormat,id:t,updated:new Date,imageHash:e.imageBuffer&&o.default(e.imageBuffer)}},t.fromId=function(t){return r(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return e=c.Constants.AudioPath+"/"+t,[4,u.MetaLoader.fromUrl(e)];case 1:return n=r.sent(),[2,this.compileTrackData(t,n)]}})})},t}();e.SongLoader=l}},[[46,2,1]]]);
//# sourceMappingURL=main.c956d555.chunk.js.map